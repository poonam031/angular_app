<div class="form-container">
  <div class="form-header">
    <span class="title">‡§ï‡•Ö‡§∂ ‡§∏‡•á‡§≤ (Cash Sale)</span>
    <button class="close-top" (click)="onClose()">‚úï</button>
  </div>

  <div class="form-body">
    <div class="header-inputs">
      <div class="input-group">
        <label>‡§ó‡•ã‡§°‡§æ‡§ä‡§®</label>
        <div class="search-box">
          <select [(ngModel)]="godownCode" (change)="onGodownChange()" class="dropdown-select">
            <option value="">-- ‡§â‡§¶‡§æ --</option>
            <option *ngFor="let godown of godownList" value="{{ godown.code }}">{{ godown.code }}</option>
          </select>
          <input type="text" [(ngModel)]="godownName" class="display-name" readonly>
        </div>
      </div>

      <div class="input-group">
        <label>‡§ß‡§æ‡§®‡•ç‡§Ø ‡§Æ‡§æ‡§ó‡§£‡•Ä ‡§®‡§Ç.</label>
        <div class="search-box">
          <select [(ngModel)]="demandNo" (change)="onDemandChange()" class="dropdown-select">
            <option value="">-- ‡§â‡§¶‡§æ --</option>
            <option *ngFor="let demand of demandList" value="{{ demand.no }}">{{ demand.no }}</option>
          </select>
          <input type="text" [(ngModel)]="year" class="year-input" readonly>
        </div>
      </div>

      <div class="input-group date-group">
        <label>‡§§‡§æ‡§∞‡•Ä‡§ñ</label>
        <input type="date" [(ngModel)]="currentDate" class="date-input">
      </div>
    </div>

    <div class="header-inputs">
      <div class="input-group full-width">
        <label>‡§∏‡§™‡•ç‡§≤‡§æ‡§Ø‡§∞ ‡§ï‡•ã‡§°</label>
        <div class="search-box">
          <select [(ngModel)]="supplierCode" (change)="onSupplierChange()" class="dropdown-select">
            <option value="">-- ‡§â‡§¶‡§æ --</option>
            <option *ngFor="let supplier of supplierList" value="{{ supplier.code }}">{{ supplier.code }}</option>
          </select>
          <input type="text" [(ngModel)]="supplierName" class="display-name" readonly>
        </div>
      </div>
    </div>

    <div class="table-container">
      <table class="item-table">
        <thead>
          <tr>
            <th style="width: 100px;">‡§Ü‡§Ø‡§ü‡§Æ</th>
            <th style="width: 400px;">‡§Ü‡§Ø‡§ü‡§Æ‡§ö‡•á ‡§®‡§æ‡§Ç‡§µ</th>
            <th style="width: 100px;">‡§®‡§ó</th>
            <th style="width: 100px;">‡§¶‡§∞</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of items; let i = index">
            <td><input type="text" [(ngModel)]="item.code"></td>
            <td><input type="text" [(ngModel)]="item.name"></td>
            <td><input type="number" [(ngModel)]="item.qty" (change)="calculateTotal()"></td>
            <td><input type="number" [(ngModel)]="item.rate"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="total-bar">
      <input type="number" [value]="totalQty" readonly class="total-input">
    </div>
  </div>

  <div class="form-footer">
    <div class="action-buttons">
      <button class="btn-save" (click)="onSave()">
        <span class="icon">üíæ</span> ‡§∏‡•á‡§µ‡•ç‡§π
      </button>
      <button class="btn-cancel" (click)="onCancel()">
        <span class="icon">‚Ü∫</span> ‡§ï‡•Ö‡§®‡•ç‡§∏‡§≤
      </button>
      <button class="btn-form-close" (click)="onClose()">
        <span class="icon">üìÅ</span> ‡§¨‡§Ç‡§¶
      </button>
    </div>

    <div class="nav-buttons">
      <button class="nav-btn" title="First Record">|‚ùÆ</button>
      <button class="nav-btn" title="Previous Record">‚ùÆ</button>
      <button class="nav-btn" title="Next Record">‚ùØ</button>
      <button class="nav-btn" title="Last Record">‚ùØ|</button>
    </div>
  </div>
</div>
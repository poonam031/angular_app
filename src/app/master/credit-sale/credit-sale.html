<div class="form-container">

  <!-- ================= HEADER ================= -->
  <div class="form-header">
    <h2>{{ lang.t('CREDIT_SALE') }}</h2>
    <button class="btn-close" (click)="onClose()">✕</button>
  </div>

  <!-- ================= CONTENT ================= -->
  <div class="form-content">

    <!-- ===== SECTION 1 : SALE INFORMATION ===== -->
    <div class="section-box">
      <h3 class="section-title">
        {{ lang.t('SALE_INFO') }}
      </h3>

      <!-- ===== ROW 1 ===== -->
      <div class="form-grid">

        <!-- GODOWN -->
        <div class="form-group inline-group">
          <label>{{ lang.t('GODOWN_CODE') }}</label>
          <div class="inline-fields">
            <select [(ngModel)]="godownCode"
                    (ngModelChange)="onGodownChange()">
              <option value="">{{ lang.t('SELECT') }}</option>
              <option *ngFor="let godown of godownList"
                      [value]="godown.code">
                {{ godown.code }}
              </option>
            </select>

            <input type="text"
                   [(ngModel)]="godownName"
                   disabled>
          </div>
        </div>

        <!-- BILL DATE -->
        <div class="form-group">
          <label>{{ lang.t('BILL_DATE') }}</label>
          <input type="date" [(ngModel)]="billDate">
        </div>

      </div>

      <!-- ===== ROW 2 ===== -->
      <div class="form-grid second-row">

        <!-- BILL NO -->
        <div class="form-group">
          <label>{{ lang.t('BILL_NO') }}</label>
          <select [(ngModel)]="billNo"
                  (ngModelChange)="onBillNoChange()">
            <option value="">{{ lang.t('SELECT') }}</option>
            <option *ngFor="let bill of billNoList"
                    [value]="bill.no">
              {{ bill.no }}
            </option>
          </select>
        </div>

        <!-- MEMBER -->
        <div class="form-group inline-group">
          <label>{{ lang.t('MEMBER_CODE') }}</label>
          <div class="inline-fields">
            <select [(ngModel)]="memberCode"
                    (ngModelChange)="onMemberChange()">
              <option value="">{{ lang.t('SELECT') }}</option>
              <option *ngFor="let member of memberList"
                      [value]="member.code">
                {{ member.code }}
              </option>
            </select>

            <input type="text"
                   [(ngModel)]="memberName"
                   disabled>
          </div>
        </div>

        <!-- ACCOUNT BALANCE -->
        <div class="form-group">
          <label>{{ lang.t('ACCOUNT_BALANCE') }}</label>
          <input type="text"
                 [(ngModel)]="accountBalance"
                 disabled>
        </div>

      </div>
    </div>

    <!-- ===== SECTION 2 : ITEM DETAILS ===== -->
    <div class="section-box">
      <h3 class="section-title">
        {{ lang.t('ITEM_DETAILS') }}
      </h3>

      <div class="table-container">
        <table class="item-table">
          <thead>
            <tr>
              <th>{{ lang.t('ITEM_CODE') }}</th>
              <th>{{ lang.t('ITEM_NAME') }}</th>
              <th>{{ lang.t('QTY') }}</th>
              <th>{{ lang.t('RATE') }}</th>
              <th>{{ lang.t('AMOUNT') }}</th>
            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let item of items">
              <td>{{ item.code }}</td>
              <td>{{ item.name }}</td>
              <td>{{ item.qty }}</td>
              <td>{{ item.rate | number:'1.2-2' }}</td>
              <td>{{ item.amount | number:'1.2-2' }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- ===== SECTION 3 : TOTAL ===== -->
    <div class="total-bar">
      <label>{{ lang.t('BILL_AMOUNT') }} :</label>
      <input class="grand-total"
             [value]="totalAmount | number:'1.2-2'"
             disabled>
    </div>

  </div>

  <!-- ================= FOOTER ================= -->
  <div class="form-footer">

    <div class="footer-left">
      <button class="btn-clear">{{ lang.t('NEW') }}</button>
      <button class="btn-clear">{{ lang.t('EDIT') }}</button>
      <button class="btn-clear">{{ lang.t('CANCEL') }}</button>
      <button class="btn-clear">{{ lang.t('PRINT') }}</button>
      <button class="btn-clear" (click)="onClose()">
        {{ lang.t('CLOSE') }}
      </button>
    </div>

    <div class="footer-right modern-pagination">
      <button class="page-btn" title="{{ lang.t('FIRST') }}">⏮</button>
      <button class="page-btn" title="{{ lang.t('PREVIOUS') }}">◀</button>
      <span class="page-info">1 / 10</span>
      <button class="page-btn" title="{{ lang.t('NEXT') }}">▶</button>
      <button class="page-btn" title="{{ lang.t('LAST') }}">⏭</button>
    </div>

  </div>

</div>
